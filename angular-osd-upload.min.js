!function(){angular.module("osdUpload",["angularFileUpload"])}(),function(){"use strict";function o(){var o=this,e={uploadUrl:"/api/v1/uploads",maxSize:1e8,supportedFileTypes:["png","pdf","jpeg","jpg","mp4"]};return o.config=function(r){return e=r,o},o.$get=function(){return e},o}angular.module("osdUpload");angular.module("osdUpload").provider("UploadConfig",o)}(),function(){function o(o,e,r){e.onFileSelect=function(t){r.post(t[0],data).progress(function(o){e.progress=parseInt(100*o.loaded/o.total)}).success(function(r){o.$emit("osdUploadSuccess",r),e.progress=0}).error(function(r){o.$emit("osdUploadError",r),e.progress=0})},o.$on("osdUploadSizeExceeded",function(){e.maxSizeExceeded=!0})}function e(){return{restrict:"E",replace:!0,scope:{data:"="},templateUrl:"/templates/image-upload.html",controller:"ImageUploadCtrl"}}o.$inject=["$rootScope","$scope","Upload"],angular.module("osdUpload").controller("ImageUploadCtrl",o).directive("imageUpload",e)}(),function(){function o(o,e,r){function t(o){return o.size>r.maxSize}function a(o){var e=r.supportedFileTypes.join("|"),t=new RegExp(e,"g");return t.test(o.type)}var n=this;return n.post=function(n,d){if(t(n))return o.$broadcast("osdUploadSizeExceeded",n),void 0;if(!a(n))return o.$broadcast("osdUploadUnsupportedType",n),void 0;var l={url:r.uploadUrl,file:n,data:d,fileName:"file"};return e.upload(l)},n}o.$inject=["$rootScope","$upload","UploadConfig"],angular.module("osdUpload").factory("Upload",o)}();